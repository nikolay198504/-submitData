
# Mountain Passes API

## Обзор

Этот проект представляет собой Django REST API, который предоставляет функционал для управления информацией о пользователях и данных о горных перевалах. API позволяет создавать, обновлять, получать и управлять перевалами и сопутствующей информацией о пользователях. Проект построен на основе Django и Django REST Framework, с использованием PostgreSQL в качестве основной базы данных.

## Установка

### Требования

- Python 3.9 или выше
- Django 4.2
- PostgreSQL
- Windows OS

### Настройка

1. **Клонирование репозитория**:

    ```
    git clone https://github.com/yourusername/mountain_passes.git
    cd mountain_passes
    ```

2. **Создание виртуального окружения**:

    ```
    python -m venv .venv
    ```

3. **Активация виртуального окружения**:

    ```
    .venv\Scripts\activate
    ```

4. **Установка зависимостей**:

    ```
    pip install -r requirements.txt
    ```

5. **Настройка базы данных PostgreSQL**:

    - Убедитесь, что PostgreSQL установлен и запущен.
    - Создайте новую базу данных и пользователя для проекта.
    - Обновите параметры `DATABASES` в файле `mountain_passes/settings.py` с вашими учетными данными.

6. **Применение миграций базы данных**:

    ```
    python manage.py migrate
    ```

7. **Загрузка начальных данных (необязательно)**:

    ```
    python manage.py loaddata db.json
    ```

8. **Запуск сервера разработки**:

    ```
    python manage.py runserver
    ```

9. **Доступ к API**:

    API будет доступен по адресу `http://127.0.0.1:8000/api/`.

## Конечные точки API

### Конечные точки пользователей

- **GET /api/users/**: Получить список всех пользователей.
- **POST /api/users/**: Создать нового пользователя.
- **GET /api/users/{id}/**: Получить информацию о конкретном пользователе по ID.
- **PATCH /api/users/{id}/**: Обновить информацию о конкретном пользователе.
- **DELETE /api/users/{id}/**: Удалить конкретного пользователя.

### Конечные точки перевалов

- **GET /api/passes/**: Получить список всех перевалов.
- **POST /api/passes/**: Создать новый перевал.
- **GET /api/passes/{id}/**: Получить информацию о конкретном перевале по ID.
- **PATCH /api/passes/{id}/**: Обновить информацию о конкретном перевале.
- **DELETE /api/passes/{id}/**: Удалить конкретный перевал.
- **GET /api/passes/{id}/submitData/**: Получить данные о конкретном перевале по ID.
- **PATCH /api/passes/{id}/submitData/**: Обновить перевал, если он имеет статус 'new'.
- **GET /api/passes/submitData/?user__email={email}**: Получить перевалы, отправленные пользователем с указанным email.

## Запуск тестов

Чтобы запустить тесты для проекта, выполните команду:

```
python manage.py test
```

## Развертывание

Для развертывания проекта в продакшн-среде рассмотрите использование таких сервисов, как AWS, Azure, или развертывание на Windows Server с IIS. Настройте параметры для продакшн-среды согласно [чеклисту развертывания Django](https://docs.djangoproject.com/en/4.2/howto/deployment/checklist/).

Убедитесь, что установили `DEBUG = False` и правильно настроили `ALLOWED_HOSTS`, базу данных, статические файлы и параметры безопасности.

## Лицензия

Этот проект лицензирован на условиях MIT License. Подробности можно найти в файле `LICENSE`.
